<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="CMI058">
  
  <resultMap class="java.util.HashMap" id="selectWebapi05804Result">
    <result column="COUNTNUM" jdbcType="VARCHAR" property="value" />
    <result column="FREEUSE1" jdbcType="VARCHAR" property="name" />
  </resultMap>
  
  <resultMap class="java.util.HashMap" id="selectWebapi05803Result">
    <result column="COUNTNUM" jdbcType="VARCHAR" property="value" />
    <result column="EVALUATETYPE" jdbcType="VARCHAR" property="name" />
  </resultMap>
  
  <resultMap class="java.util.HashMap" id="selectWebapi05805Result">
    <result column="COUNTNUM" jdbcType="VARCHAR" property="value" />
    <result column="TRADETYPE" jdbcType="VARCHAR" property="type1" />
    <result column="DETAIL" jdbcType="VARCHAR" property="type2" />
  </resultMap>
  
  <resultMap class="java.util.HashMap" id="selectWebapi05806Result">
    <result column="COUNTNUM" jdbcType="VARCHAR" property="value" />
    <result column="AGENTINSTMSG" jdbcType="VARCHAR" property="name" />
  </resultMap>
  
  <resultMap class="java.util.HashMap" id="selectWebapi05807Result">
    <result column="COUNTERNUM" jdbcType="VARCHAR" property="counternum" />
    <result column="COUNTERNAME" jdbcType="VARCHAR" property="countername" />
    <result column="TRADETYPE" jdbcType="VARCHAR" property="tradetype" />
    <result column="TRANSID" jdbcType="VARCHAR" property="transid" />
    <result column="TRANSDATE" jdbcType="VARCHAR" property="transdate" />
  </resultMap>
 
 <!-- 用户体验评价统计-柜面业务服务评价 -->
 <select id="selectWebapi05803" parameterClass="com.yondervision.mi.form.WebApi05801Form" resultMap="selectWebapi05803Result">
  	select EVALUATETYPE, count(*)countnum from mi058 where VALIDFLAG ='1' and COUNTERNUM !='' and COUNTERNAME !='' and DETAIL !=''
  		and CENTERID= #centerid:VARCHAR# and TRANSDATE &gt;=#startdate:VARCHAR# and TRANSDATE &lt;=#enddate:VARCHAR#
	group by EVALUATETYPE
 </select>
 
 <!-- 柜面业务服务评价-不满意原因分类 -->
 <select id="selectWebapi05804" parameterClass="com.yondervision.mi.form.WebApi05801Form" resultMap="selectWebapi05804Result">
  	select FREEUSE1, count(*)countnum from mi058 where VALIDFLAG ='1' and EVALUATETYPE ='3' and COUNTERNUM !='' and COUNTERNAME !='' and DETAIL !=''
  		and CENTERID= #centerid:VARCHAR# and TRANSDATE &gt;=#startdate:VARCHAR# and TRANSDATE &lt;=#enddate:VARCHAR#
	group by FREEUSE1
 </select>
 
  <!-- 柜面业务服务评价-不满意原因分类-业务政策 -->
 <select id="selectWebapi05805" parameterClass="com.yondervision.mi.form.WebApi05801Form" resultMap="selectWebapi05805Result">
  	select TRADETYPE, DETAIL, count(*)countnum from mi058 where VALIDFLAG ='1' and EVALUATETYPE ='3' and FREEUSE1 ='2' and COUNTERNUM !='' and COUNTERNAME !='' and DETAIL !='' and (TRADETYPE='柜台还款' or TRADETYPE='提取')
  		and CENTERID= #centerid:VARCHAR# and TRANSDATE &gt;=#startdate:VARCHAR# and TRANSDATE &lt;=#enddate:VARCHAR#
	group by TRADETYPE,DETAIL
 </select>
 
  <!-- 柜面业务服务评价-不满意原因分类-服务态度 -->
 <select id="selectWebapi05806" parameterClass="com.yondervision.mi.form.WebApi05801Form" resultMap="selectWebapi05806Result">
  	select AGENTINSTMSG, count(*)countnum from mi058 where VALIDFLAG ='1' and EVALUATETYPE ='3' and FREEUSE1 ='1' and COUNTERNUM !='' and COUNTERNAME !='' and DETAIL !=''
  		and CENTERID= #centerid:VARCHAR# and TRANSDATE &gt;=#startdate:VARCHAR# and TRANSDATE &lt;=#enddate:VARCHAR#
	group by AGENTINSTMSG
 </select>
 
 <!-- 柜面业务服务评价-不满意原因分类-服务态度-柜员信息 -->
 <select id="selectWebapi05807" parameterClass="com.yondervision.mi.form.WebApi05801Form" resultMap="selectWebapi05807Result">
  	select COUNTERNUM, COUNTERNAME, TRADETYPE, TRANSID, TRANSDATE from mi058 where VALIDFLAG ='1' and EVALUATETYPE ='3' and COUNTERNUM !='' and COUNTERNAME !='' and DETAIL !='' and FREEUSE1 ='1' and AGENTINSTMSG = #agentinstmsg:VARCHAR#
  		and CENTERID= #centerid:VARCHAR# and TRANSDATE &gt;=#startdate:VARCHAR# and TRANSDATE &lt;=#enddate:VARCHAR#
 </select>
 
</sqlMap>