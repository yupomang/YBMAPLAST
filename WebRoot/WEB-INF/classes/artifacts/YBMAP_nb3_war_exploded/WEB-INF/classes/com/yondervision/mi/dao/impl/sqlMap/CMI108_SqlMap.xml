<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="CMI108">
  <resultMap class="com.yondervision.mi.dto.Mi108" id="abatorgenerated_Mi108Result">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Sep 26 19:53:23 CST 2013.
    -->
    <result column="SEQNO" jdbcType="INTEGER" property="seqno" />
    <result column="CENTERID" jdbcType="CHAR" property="centerid" />
    <result column="USERID" jdbcType="VARCHAR" property="userid" />
    <result column="VERSIONNO" jdbcType="VARCHAR" property="versionno" />
    <result column="DEVTYPE" jdbcType="CHAR" property="devtype" />
    <result column="DEVID" jdbcType="VARCHAR" property="devid" />
    <result column="DETAIL" jdbcType="VARCHAR" property="detail" />
    <result column="CONFIRMID" jdbcType="VARCHAR" property="confirmid" />
    <result column="STATUS" jdbcType="CHAR" property="status" />
    <result column="CONFIRMTIME" jdbcType="CHAR" property="confirmtime" />
    <result column="CONFIRMDETAIL" jdbcType="VARCHAR" property="confirmdetail" />
    <result column="VALIDFLAG" jdbcType="CHAR" property="validflag" />
    <result column="DATEMODIFIED" jdbcType="CHAR" property="datemodified" />
    <result column="DATECREATED" jdbcType="CHAR" property="datecreated" />
    <result column="FREEUSE1" jdbcType="VARCHAR" property="freeuse1" />
    <result column="FREEUSE2" jdbcType="VARCHAR" property="freeuse2" />
    <result column="FREEUSE3" jdbcType="CHAR" property="freeuse3" />
    <result column="FREEUSE4" jdbcType="INTEGER" property="freeuse4" />
  </resultMap>
  
  <select id="selectWeb" parameterClass="com.yondervision.mi.form.WebApi40401Form" resultMap="abatorgenerated_Mi108Result" >
    SELECT
      SEQNO,
      CENTERID,
      USERID,
      VERSIONNO,
      DEVTYPE,
      DEVID,
      DETAIL,
      CONFIRMID,
      STATUS,     
      CONFIRMTIME,
      CONFIRMDETAIL,      
      VALIDFLAG,
      DATEMODIFIED,
      DATECREATED,
      FREEUSE1,
      FREEUSE2,
      FREEUSE3,
      FREEUSE4
    FROM
      mi108
    <dynamic prepend="where" >
	  <isNotEmpty prepend="and" property="devType">
	    mi108.DEVTYPE = #devType:CHAR#
	  </isNotEmpty>
	  <isNotEmpty prepend="and" property="status">
	    mi108.STATUS = #status:CHAR#
	  </isNotEmpty>
	  <isNotEmpty prepend="and" property="startdate">
	    mi108.DATECREATED >= #startdate:CHAR# 
	  </isNotEmpty>
	  <isNotEmpty prepend="and" property="enddate">
	    mi108.DATECREATED &lt; #enddate:CHAR#  
	  </isNotEmpty>	  	
	  <isNotEmpty prepend="and" property="validflag">
	    mi108.VALIDFLAG = #validflag:CHAR#
	  </isNotEmpty>
	  <isNotEmpty prepend="and" property="centerId">
	    mi108.CENTERID = #centerId:CHAR#
	  </isNotEmpty>	  
    </dynamic>
    order by DEVTYPE asc,VERSIONNO desc
  </select> 
  
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.yondervision.mi.dto.Mi108">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Sep 26 19:53:23 CST 2013.
    -->
    update MI108
    <dynamic prepend="set">
      <isNotNull prepend="," property="confirmid">
        CONFIRMID = #confirmid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status">
        STATUS = #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="confirmtime">
        CONFIRMTIME = #confirmtime:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="confirmdetail">
        CONFIRMDETAIL = #confirmdetail:VARCHAR#
      </isNotNull> 
      <isNotNull prepend="," property="datemodified">
        DATEMODIFIED = #datemodified:VARCHAR#
      </isNotNull>     
    </dynamic>
    where SEQNO = #seqno:CHAR#
  </update>
  
</sqlMap>